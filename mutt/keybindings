# macros

# Unbind everything.. the defaults suck balls and do crazy things
bind pager . noop
bind generic,pager,editor,index a noop
bind generic,pager,editor,index b noop
bind generic,pager,editor,index c noop
bind generic,pager,editor,index d noop
bind generic,pager,editor,index e noop
bind generic,pager,editor,index f noop
bind generic,pager,editor,index g noop
bind generic,pager,editor,index h noop
bind generic,pager,editor,index i noop
bind generic,pager,editor,index j noop
bind generic,pager,editor,index k noop
bind generic,pager,editor,index l noop
bind generic,pager,editor,index m noop
bind generic,pager,editor,index n noop
bind generic,pager,editor,index o noop
bind generic,pager,editor,index p noop
bind generic,pager,editor,index q noop
bind generic,pager,editor,index r noop
bind generic,pager,editor,index s noop
bind generic,pager,editor,index t noop
bind generic,pager,editor,index u noop
bind generic,pager,editor,index v noop
bind generic,pager,editor,index w noop
bind generic,pager,editor,index x noop
bind generic,pager,editor,index y noop
bind generic,pager,editor,index z noop
bind generic,pager,editor,index A noop
bind generic,pager,editor,index B noop
bind generic,pager,editor,index C noop
bind generic,pager,editor,index D noop
bind generic,pager,editor,index E noop
bind generic,pager,editor,index F noop
bind generic,pager,editor,index G noop
bind generic,pager,editor,index H noop
bind generic,pager,editor,index I noop
bind generic,pager,editor,index J noop
bind generic,pager,editor,index K noop
bind generic,pager,editor,index L noop
bind generic,pager,editor,index M noop
bind generic,pager,editor,index N noop
bind generic,pager,editor,index O noop
bind generic,pager,editor,index P noop
bind generic,pager,editor,index Q noop
bind generic,pager,editor,index R noop
bind generic,pager,editor,index S noop
bind generic,pager,editor,index T noop
bind generic,pager,editor,index U noop
bind generic,pager,editor,index V noop
bind generic,pager,editor,index W noop
bind generic,pager,editor,index X noop
bind generic,pager,editor,index Y noop
bind generic,pager,editor,index Z noop
bind pager,index | noop

bind generic,pager,editor,index <Tab>      noop
bind generic,pager,editor,index <Space>    noop
bind generic,pager,editor,index <PageUp>   noop
bind generic,pager,editor,index <PageDown> noop
bind generic,pager,editor,index <Home>     noop
bind generic,pager,editor,index <End>      noop
bind generic,pager,editor,index <Insert>   noop
bind generic,pager,editor,index <Delete>   noop
bind generic,pager,editor,index <Up>       noop
bind generic,pager,editor,index <Down>     noop
bind generic,pager,editor,index <Left>     noop
bind generic,pager,editor,index <Right>    noop
bind generic,pager,editor,index <Enter>    noop
bind generic,pager,editor,index <Return>   noop

bind generic,pager,editor,index 1 noop
bind generic,pager,editor,index 2 noop
bind generic,pager,editor,index 3 noop
bind generic,pager,editor,index 4 noop
bind generic,pager,editor,index 5 noop
bind generic,pager,editor,index 6 noop
bind generic,pager,editor,index 7 noop
bind generic,pager,editor,index 8 noop
bind generic,pager,editor,index 9 noop
bind generic,pager,editor,index 0 noop
bind generic,pager,editor,index ! noop
bind generic,pager,editor,index @ noop
bind generic,pager,editor,index $ noop
bind generic,pager,editor,index % noop
bind generic,pager,editor,index ^ noop
bind generic,pager,editor,index & noop
bind generic,pager,editor,index * noop
bind generic,pager,editor,index ( noop
bind generic,pager,editor,index ) noop

bind generic,pager,editor,index \Ca noop
bind generic,pager,editor,index \Cb noop
bind generic,pager,editor,index \Cc noop
bind generic,pager,editor,index \Cd noop
bind generic,pager,editor,index \Ce noop
bind generic,pager,editor,index \Cf noop
bind generic,pager,editor,index \Cg noop
bind generic,pager,editor,index \Ch noop
bind generic,pager,editor,index \Ci noop
bind generic,pager,editor,index \Cj noop
bind generic,pager,editor,index \Ck noop
bind generic,pager,editor,index \Cl noop
bind generic,pager,editor,index \Cm noop
bind generic,pager,editor,index \Cn noop
bind generic,pager,editor,index \Co noop
bind generic,pager,editor,index \Cp noop
bind generic,pager,editor,index \Cq noop
bind generic,pager,editor,index \Cr noop
bind generic,pager,editor,index \Cs noop
bind generic,pager,editor,index \Ct noop
bind generic,pager,editor,index \Cu noop
bind generic,pager,editor,index \Cv noop
bind generic,pager,editor,index \Cw noop
bind generic,pager,editor,index \Cx noop
bind generic,pager,editor,index \Cy noop
bind generic,pager,editor,index \Cz noop
bind generic,pager,editor,index \CA noop
bind generic,pager,editor,index \CB noop
bind generic,pager,editor,index \CC noop
bind generic,pager,editor,index \CD noop
bind generic,pager,editor,index \CE noop
bind generic,pager,editor,index \CF noop
bind generic,pager,editor,index \CG noop
bind generic,pager,editor,index \CH noop
bind generic,pager,editor,index \CI noop
bind generic,pager,editor,index \CJ noop
bind generic,pager,editor,index \CK noop
bind generic,pager,editor,index \CL noop
bind generic,pager,editor,index \CM noop
bind generic,pager,editor,index \CN noop
bind generic,pager,editor,index \CO noop
bind generic,pager,editor,index \CP noop
bind generic,pager,editor,index \CQ noop
bind generic,pager,editor,index \CR noop
bind generic,pager,editor,index \CS noop
bind generic,pager,editor,index \CT noop
bind generic,pager,editor,index \CU noop
bind generic,pager,editor,index \CV noop
bind generic,pager,editor,index \CW noop
bind generic,pager,editor,index \CX noop
bind generic,pager,editor,index \CY noop
bind generic,pager,editor,index \CZ noop

bind generic,pager,editor,index \C<Tab>      noop
bind generic,pager,editor,index \C<Space>    noop
bind generic,pager,editor,index \C<PageUp>   noop
bind generic,pager,editor,index \C<PageDown> noop
bind generic,pager,editor,index \C<Home>     noop
bind generic,pager,editor,index \C<End>      noop
bind generic,pager,editor,index \C<Insert>   noop
bind generic,pager,editor,index \C<Delete>   noop
bind generic,pager,editor,index \C<Up>       noop
bind generic,pager,editor,index \C<Down>     noop
bind generic,pager,editor,index \C<Left>     noop
bind generic,pager,editor,index \C<Right>    noop
bind generic,pager,editor,index \C<Enter>    noop
bind generic,pager,editor,index \C<Return>   noop

bind generic,pager,editor,index \C1 noop
bind generic,pager,editor,index \C2 noop
bind generic,pager,editor,index \C3 noop
bind generic,pager,editor,index \C4 noop
bind generic,pager,editor,index \C5 noop
bind generic,pager,editor,index \C6 noop
bind generic,pager,editor,index \C7 noop
bind generic,pager,editor,index \C8 noop
bind generic,pager,editor,index \C9 noop
bind generic,pager,editor,index \C0 noop
bind generic,pager,editor,index \C! noop
bind generic,pager,editor,index \C$ noop
bind generic,pager,editor,index \C% noop
bind generic,pager,editor,index \C^ noop
bind generic,pager,editor,index \C& noop
bind generic,pager,editor,index \C* noop
bind generic,pager,editor,index \C( noop
bind generic,pager,editor,index \C) noop

bind generic,pager,editor,index <Esc>a noop
bind generic,pager,editor,index <Esc>b noop
bind generic,pager,editor,index <Esc>c noop
bind generic,pager,editor,index <Esc>d noop
bind generic,pager,editor,index <Esc>e noop
bind generic,pager,editor,index <Esc>f noop
bind generic,pager,editor,index <Esc>g noop
bind generic,pager,editor,index <Esc>h noop
bind generic,pager,editor,index <Esc>i noop
bind generic,pager,editor,index <Esc>j noop
bind generic,pager,editor,index <Esc>k noop
bind generic,pager,editor,index <Esc>l noop
bind generic,pager,editor,index <Esc>m noop
bind generic,pager,editor,index <Esc>n noop
bind generic,pager,editor,index <Esc>o noop
bind generic,pager,editor,index <Esc>p noop
bind generic,pager,editor,index <Esc>q noop
bind generic,pager,editor,index <Esc>r noop
bind generic,pager,editor,index <Esc>s noop
bind generic,pager,editor,index <Esc>t noop
bind generic,pager,editor,index <Esc>u noop
bind generic,pager,editor,index <Esc>v noop
bind generic,pager,editor,index <Esc>w noop
bind generic,pager,editor,index <Esc>x noop
bind generic,pager,editor,index <Esc>y noop
bind generic,pager,editor,index <Esc>z noop
bind generic,pager,editor,index <Esc>A noop
bind generic,pager,editor,index <Esc>B noop
bind generic,pager,editor,index <Esc>C noop
bind generic,pager,editor,index <Esc>D noop
bind generic,pager,editor,index <Esc>E noop
bind generic,pager,editor,index <Esc>F noop
bind generic,pager,editor,index <Esc>G noop
bind generic,pager,editor,index <Esc>H noop
bind generic,pager,editor,index <Esc>I noop
bind generic,pager,editor,index <Esc>J noop
bind generic,pager,editor,index <Esc>K noop
bind generic,pager,editor,index <Esc>L noop
bind generic,pager,editor,index <Esc>M noop
bind generic,pager,editor,index <Esc>N noop
bind generic,pager,editor,index <Esc>O noop
bind generic,pager,editor,index <Esc>P noop
bind generic,pager,editor,index <Esc>Q noop
bind generic,pager,editor,index <Esc>R noop
bind generic,pager,editor,index <Esc>S noop
bind generic,pager,editor,index <Esc>T noop
bind generic,pager,editor,index <Esc>U noop
bind generic,pager,editor,index <Esc>V noop
bind generic,pager,editor,index <Esc>W noop
bind generic,pager,editor,index <Esc>X noop
bind generic,pager,editor,index <Esc>Y noop
bind generic,pager,editor,index <Esc>Z noop

bind generic,pager,editor,index <Esc><Tab>      noop
bind generic,pager,editor,index <Esc><Space>    noop
bind generic,pager,editor,index <Esc><PageUp>   noop
bind generic,pager,editor,index <Esc><PageDown> noop
bind generic,pager,editor,index <Esc><Home>     noop
bind generic,pager,editor,index <Esc><End>      noop
bind generic,pager,editor,index <Esc><Insert>   noop
bind generic,pager,editor,index <Esc><Delete>   noop
bind generic,pager,editor,index <Esc><Up>       noop
bind generic,pager,editor,index <Esc><Down>     noop
bind generic,pager,editor,index <Esc><Left>     noop
bind generic,pager,editor,index <Esc><Right>    noop
bind generic,pager,editor,index <Esc><Enter>    noop
bind generic,pager,editor,index <Esc><Return>   noop

bind generic,pager,editor,index <Esc>1 noop
bind generic,pager,editor,index <Esc>2 noop
bind generic,pager,editor,index <Esc>3 noop
bind generic,pager,editor,index <Esc>4 noop
bind generic,pager,editor,index <Esc>5 noop
bind generic,pager,editor,index <Esc>6 noop
bind generic,pager,editor,index <Esc>7 noop
bind generic,pager,editor,index <Esc>8 noop
bind generic,pager,editor,index <Esc>9 noop
bind generic,pager,editor,index <Esc>0 noop
bind generic,pager,editor,index <Esc>! noop
bind generic,pager,editor,index <Esc>@ noop
bind generic,pager,editor,index <Esc>$ noop
bind generic,pager,editor,index <Esc>% noop
bind generic,pager,editor,index <Esc>^ noop
bind generic,pager,editor,index <Esc>& noop
bind generic,pager,editor,index <Esc>* noop
bind generic,pager,editor,index <Esc>( noop
bind generic,pager,editor,index <Esc>) noop

bind pager dd noop
bind pager dt noop
bind index dd noop
bind index dt noop
bind pager zA noop
bind pager za noop
bind index zA noop
bind index za noop


# Generic can happen anywhere (except pager and editor)
# Browser is the list of mailboxes
# Index = the list of messages
# Pager is when you have an email open

### General bindings ###
# Jump to the beginning/end
bind  generic,index 0 first-entry
bind  generic,index $ last-entry

# Set 'q' to let us exit from anywhere
bind  generic,index,pager,index Q exit
macro generic,index,pager q "QQQ<sync-mailbox>"

# Default Left/Right to go backward/forward
bind generic,index <Return> select-entry
bind generic,index <Right>  select-entry
bind generic,index l        select-entry

# Make up/down do the logical thing
bind generic,index <Up>                 previous-entry
bind generic,index k                    previous-entry
bind generic,index <Down>               next-entry
bind generic,index j                    next-entry
bind generic,index,pager <PageUp>       previous-page
bind generic,index,pager <PageDown>     next-page

# Reload configuration
macro generic,index,pager,editor ,<Space> ":source ~/.mutt/muttrc\n"    "muttrc has been reloaded"

# Other oddds and ends
bind generic,index,pager / search
bind generic,index,pager : enter-command

### Browser bindings ###
## Browser is used when viewing the list of mailboxes
bind browser <Space>  check-new
bind browser N        select-new

### Index bindings ####
## Index is used when viewing the list of emails in a mailbox
# Changing folders
#bind  index c change-folder
macro index c <sync-mailbox><change-folder> "Go to the folder menu"
macro index i "c?\t" "Go back to the list of mailboxes"
macro index h "c?\t" "Go back to the list of mailboxes"

# Setting/clearing flags
bind  index W       clear-flag
bind  index w       set-flag
macro index !       wN  "Mark email as unread"
bind  index P       previous-new-then-unread
bind  index N       next-new-then-unread
macro index r       WN<up>n "Mark as read, then go to next"
bind  generic,index t   tag-entry   # gmail uses "x" but we'll use vim-like "t"
bind  pager         t   tag-message # gmail uses "x" but we'll use vim-like "t"
bind  index         T   tag-thread  # gmail uses "x" but we'll use vim-like "t"
bind  index         \CT tag-pattern # gmail uses "x" but we'll use vim-like "t"
macro index         \Ce "<delete-pattern>~A<enter>" "delete all messages"
macro index         \Ca "<tag-pattern>~A<enter>" "tag all messages"

# show/hide things ----------------------------------------------------
bind  index        zA  collapse-thread       # toggle thread, similar to vim folding (though inverted)
bind  index        za  collapse-all          # toggle all thread, similar to vim folding
bind  pager        zA  toggle-quoted         # toggle quote section, similar to vim folding
bind  pager        za  toggle-quoted         # toggle quote section, similar to vim folding

# Reply/forward/etc.
bind index m mail
bind index \Cr reply
bind index <Esc>r group-reply       # Control-r
bind index R list-reply
bind index b bounce-message
bind index f forward-message

# Odds and ends
bind  index <Return> display-message # TODO: This might not be needed
bind  index <Right> display-message
bind  index l       display-message
macro index <Left>  "c?\t"
macro index h       "c?\t"
bind  index @       display-address
bind  index x       toggle-read
bind  index A       create-alias
bind  index /       limit
bind  index o       sort-mailbox
macro index,pager s "<sync-mailbox>"
bind  index |       pipe-message
bind  index u       undelete-message
bind  index n       next-unread
bind  index,pager *  flag-message #Star a message
macro index,pager + <save-message>=[Gmail]/Important<enter><enter><sync-mailbox> "Mark as important"

### Pager bindings ###
## Pager is used on the 'help' screen, as well as when reading emails
bind pager <Up>     previous-line
bind pager k        previous-line
bind pager <Down>   next-line
bind pager l        next-line

# Reply/forward/etc.
bind pager m mail
bind pager \Cr reply
bind pager <Esc>r group-reply # Control-r
bind pager R list-reply
bind pager b bounce-message
bind pager f forward-message

# Delete / junk
macro index,pager dd "<purge-message><sync-mailbox>" "move message to trash"
macro index,pager dt "<purge-thread><sync-mailbox>"  "deleted message thread"

folder-hook +INBOX 'macro index,pager y "<save-message>=[Gmail]/All Mail<enter><enter><sync-mailbox>" "Archive conversation"'
folder-hook +[Gmail]/Bin macro index,pager y <save-message>=INBOX<enter><enter><sync-mailbox> "Move to inbox"
#folder-hook +[Gmail]/Bin macro index,paper p <purge-message><sync-mailbox> "Purge mail"
folder-hook +[Gmail]/Starred bind index,pager y flag-message #"Toggle star"

# Odds and ends
bind pager @        display-address
bind pager A        create-alias
bind pager o        sort-mailbox
#bind pager p       print-message
bind pager s        save-message
bind pager |        pipe-message
bind pager <Right>  view-attachments
bind pager l        view-attachments
bind pager <Left>   exit
bind pager h        exit
bind pager n        next-entry
bind pager N        next-unread
bind pager ..       imap-fetch-mail

### Attach is on the attachments list
bind attach <Left>  exit
bind attach h       exit
bind attach <Right> view-text
bind attach l       view-text

# Vim like binds
bind attach,index,pager \CD next-page
bind attach,index,pager \CU previous-page
bind pager g top
bind pager G bottom
bind attach,index g first-entry
bind attach,index G last-entry

# Sidebar binds
bind index,pager \CP sidebar-prev                 # Ctrl-n to select next folder
bind index,pager \CN sidebar-next                 # Ctrl-p to select previous folder
bind index,pager \CO sidebar-open                 # Ctrl-o to open selected folder
bind index,pager \CB sidebar-toggle-visible       # Ctrl-b to toggle visibility of the sidebar
# vim: set ft=muttrc

