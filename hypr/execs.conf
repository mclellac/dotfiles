# Core environment and session setup
# ------------------------------------
# Set dbus environment for systemd user session
exec-once = dbus-update-activation-environment --systemd --all
exec-once = systemctl --user restart xdg-desktop-portal

# Start polkit agent for authentication
exec-once = uwsm app -- /usr/lib/polkit-kde-authentication-agent-1

# Start gnome-keyring for secrets
exec-once = uwsm app -- gnome-keyring-daemon --start --components=secrets


# Bar, wallpaper, and other UI elements
# ------------------------------------
exec-once = uwsm app -- waybar -c ~/.config/waybar/config.jsonc -s ~/.config/waybar/themes/style.css
exec-once = uwsm app -- hyprpaper
exec-once = uwsm app -- ~/.config/hypr/scripts/start_geoclue_agent.sh


# Background services and daemons
# ------------------------------------
# Input method
exec-once = uwsm app -- fcitx5

# Audio
exec-once = uwsm app -- easyeffects --gapplication-service

# Clipboard manager
exec-once = uwsm app -- wl-paste --type text --watch cliphist store
exec-once = uwsm app -- wl-paste --type image --watch cliphist store

# Hyprland Plugin Manager
exec-once = hyprpm reload

# Cursor
exec-once = hyprctl setcursor Adwaita 24
